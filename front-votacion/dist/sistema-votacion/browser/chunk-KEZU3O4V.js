import{a as ae}from"./chunk-Y3RCPZZP.js";import{a as tr,c as ir,d as ur,e as or,h as dr}from"./chunk-ZLLD3L34.js";import{D as lt,F as w,Ga as er,H as b,Ha as ct,I as _,J as B,K as $t,L as te,La as rr,M as re,Ma as ar,P as p,Pa as nr,Q as F,R as Gt,S as dt,T as st,U as ft,X as kt,Y as zt,Z as V,_ as U,a as Kt,b as jt,bb as lr,ca as Ht,d as l,da as Yt,e as ha,ea as Zt,ga as Jt,ia as Qt,l as Q,p as Vt,q as ee,r as Ut,s as Xt,x as D,y as ot}from"./chunk-ZHU3U647.js";var m=l(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.areaConversion=c.timeConversion=c.distanceConversion=c.altitudeKeys=c.latitudeKeys=c.longitudeKeys=c.MAXLON=c.MINLON=c.MAXLAT=c.MINLAT=c.earthRadius=c.sexagesimalPattern=void 0;var ya=/^([0-9]{1,3})°\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['′]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["″]\s*)?([NEOSW]?)$/;c.sexagesimalPattern=ya;var Ma=6378137;c.earthRadius=Ma;var ba=-90;c.MINLAT=ba;var Pa=90;c.MAXLAT=Pa;var Oa=-180;c.MINLON=Oa;var Da=180;c.MAXLON=Da;var qa=["lng","lon","longitude",0];c.longitudeKeys=qa;var La=["lat","latitude",1];c.latitudeKeys=La;var Sa=["alt","altitude","elevation","elev",2];c.altitudeKeys=Sa;var Aa={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144};c.distanceConversion=Aa;var Ca={m:60,h:3600,d:86400};c.timeConversion=Ca;var C={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};c.areaConversion=C;C.sqm=C.m2;C.sqkm=C.km2;C.sqft=C.ft2;C.sqyd=C.yd2;C.sqin=C.in2});var X=l(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.default=void 0;var Na=function(t,r){return r.reduce(function(a,n){if(typeof t>"u"||t===null)throw new Error("'".concat(t,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(t,n)&&typeof n<"u"&&typeof a>"u"?(a=n,n):a},void 0)},Ia=Na;ne.default=Ia});var $=l(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.default=void 0;var Ea=function(t){var r=t.toString().trim();return isNaN(parseFloat(r))?!1:parseFloat(r)===Number(r)},Ra=Ea;ie.default=Ra});var G=l(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.default=void 0;var wa=m(),xa=function(t){return wa.sexagesimalPattern.test(t.toString().trim())},Ta=xa;ue.default=Ta});var k=l(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.default=void 0;var Ba=m(),Fa=function(t){var r=new RegExp(Ba.sexagesimalPattern).exec(t.toString().trim());if(typeof r>"u"||r===null)throw new Error("Given value is not in sexagesimal format");var a=Number(r[2])/60||0,n=Number(r[4])/3600||0,i=parseFloat(r[1])+a+n;return["S","W"].includes(r[7])?-i:i},Wa=Fa;oe.default=Wa});var de=l(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.default=void 0;var gt=m(),vt=Ka(X());function Ka(e){return e&&e.__esModule?e:{default:e}}function sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sr(Object(r),!0).forEach(function(a){Va(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Va(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ua=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{longitude:gt.longitudeKeys,latitude:gt.latitudeKeys,altitude:gt.altitudeKeys},a=(0,vt.default)(t,r.longitude),n=(0,vt.default)(t,r.latitude),i=(0,vt.default)(t,r.altitude);return ja({latitude:n,longitude:a},i?{altitude:i}:{})},Xa=Ua;le.default=Xa});var _t=l(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.default=void 0;var $a=mt($()),Ga=mt(G()),ka=mt(k()),fr=m();function mt(e){return e&&e.__esModule?e:{default:e}}var za=function e(t){return(0,$a.default)(t)?!(parseFloat(t)>fr.MAXLAT||t<fr.MINLAT):(0,Ga.default)(t)?e((0,ka.default)(t)):!1},Ha=za;se.default=Ha});var ht=l(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.default=void 0;var Ya=pt($()),Za=pt(G()),Ja=pt(k()),cr=m();function pt(e){return e&&e.__esModule?e:{default:e}}var Qa=function e(t){return(0,Ya.default)(t)?!(parseFloat(t)>cr.MAXLON||t<cr.MINLON):(0,Za.default)(t)?e((0,Ja.default)(t)):!1},en=Qa;fe.default=en});var Mt=l(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.default=void 0;var tn=yt(de()),gr=yt(_t()),vr=yt(ht());function yt(e){return e&&e.__esModule?e:{default:e}}var rn=function(t){var r=(0,tn.default)(t),a=r.latitude,n=r.longitude;if(Array.isArray(t)&&t.length>=2)return(0,vr.default)(t[0])&&(0,gr.default)(t[1]);if(typeof a>"u"||typeof n>"u")return!1;var i=t[n],u=t[a];return!(typeof u>"u"||typeof i>"u"||(0,gr.default)(u)===!1||(0,vr.default)(i)===!1)},an=rn;ce.default=an});var ve=l(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.default=void 0;var nn=z($()),un=z(G()),on=z(k()),mr=z(Mt()),ln=z(de());function z(e){return e&&e.__esModule?e:{default:e}}function _r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_r(Object(r),!0).forEach(function(a){Pt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dn=function e(t){if((0,nn.default)(t))return Number(t);if((0,un.default)(t))return(0,on.default)(t);if((0,mr.default)(t)){var r=(0,ln.default)(t);return Array.isArray(t)?t.map(function(a,n){return[0,1].includes(n)?e(a):a}):bt(bt(bt({},t),r.latitude&&Pt({},r.latitude,e(t[r.latitude]))),r.longitude&&Pt({},r.longitude,e(t[r.longitude])))}return Array.isArray(t)?t.map(function(a){return(0,mr.default)(a)?e(a):a}):t},sn=dn;ge.default=sn});var q=l(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.default=void 0;var fn=m(),cn=pr(X()),gn=pr(ve());function pr(e){return e&&e.__esModule?e:{default:e}}var vn=function(t,r){var a=(0,cn.default)(t,fn.latitudeKeys);if(!(typeof a>"u"||a===null)){var n=t[a];return r===!0?n:(0,gn.default)(n)}},mn=vn;me.default=mn});var L=l(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.default=void 0;var _n=m(),pn=hr(X()),hn=hr(ve());function hr(e){return e&&e.__esModule?e:{default:e}}var yn=function(t,r){var a=(0,pn.default)(t,_n.longitudeKeys);if(!(typeof a>"u"||a===null)){var n=t[a];return r===!0?n:(0,hn.default)(n)}},Mn=yn;_e.default=Mn});var N=l(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.default=void 0;var bn=function(t){return t*Math.PI/180},Pn=bn;pe.default=Pn});var x=l(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.default=void 0;var On=function(t){return t*180/Math.PI},Dn=On;he.default=Dn});var Mr=l(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.default=void 0;var qn=ye(q()),Ln=ye(L()),Ot=ye(N()),Dt=ye(x()),yr=m();function ye(e){return e&&e.__esModule?e:{default:e}}var Sn=function(t,r,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:6371e3,i=(0,qn.default)(t),u=(0,Ln.default)(t),o=r/n,f=(0,Ot.default)(a),g=(0,Ot.default)(i),O=(0,Ot.default)(u),P=Math.asin(Math.sin(g)*Math.cos(o)+Math.cos(g)*Math.sin(o)*Math.cos(f)),h=O+Math.atan2(Math.sin(f)*Math.sin(o)*Math.cos(g),Math.cos(o)-Math.sin(g)*Math.sin(P)),y=(0,Dt.default)(h);return(y<yr.MINLON||y>yr.MAXLON)&&(h=(h+3*Math.PI)%(2*Math.PI)-Math.PI,y=(0,Dt.default)(h)),{latitude:(0,Dt.default)(P),longitude:y}},An=Sn;Me.default=An});var br=l(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.default=void 0;var Cn=m(),Nn=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",a=Cn.areaConversion[r];if(a)return t*a;throw new Error("Invalid unit used for area conversion.")},In=Nn;be.default=In});var Pr=l(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.default=void 0;var En=m(),Rn=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",a=En.distanceConversion[r];if(a)return t*a;throw new Error("Invalid unit used for distance conversion.")},wn=Rn;Pe.default=wn});var Or=l(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.default=void 0;var Oe=m(),xn=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"kmh";switch(r){case"kmh":return t*Oe.timeConversion.h*Oe.distanceConversion.km;case"mph":return t*Oe.timeConversion.h*Oe.distanceConversion.mi;default:return t}},Tn=xn;De.default=Tn});var Lr=l(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.default=void 0;function Dr(e,t){return Kn(e)||Wn(e,t)||Fn(e,t)||Bn()}function Bn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fn(e,t){if(e){if(typeof e=="string")return qr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qr(e,t)}}function qr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Wn(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,n=!1,i=void 0;try{for(var u=e[Symbol.iterator](),o;!(a=(o=u.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(f){n=!0,i=f}finally{try{!a&&u.return!=null&&u.return()}finally{if(n)throw i}}return r}}function Kn(e){if(Array.isArray(e))return e}var jn=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,a=Math.pow(10,r);return Math.round(t*a)/a},Vn=function(t){var r=t.toString().split("."),a=Dr(r,2),n=a[0],i=a[1],u=Math.abs(Number(n)),o=+("0."+(i||0))*60,f=o.toString().split("."),g=Math.floor(o),O=jn(+("0."+(f[1]||0))*60).toString(),P=O.split("."),h=Dr(P,2),y=h[0],M=h[1],v=M===void 0?"0":M;return u+"\xB0 "+g.toString().padStart(2,"0")+"' "+y.padStart(2,"0")+"."+v.padEnd(1,"0")+'"'},Un=Vn;qe.default=Un});var qt=l(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.default=void 0;var Xn=function(t){return t>1?1:t<-1?-1:t},$n=Xn;Le.default=$n});var R=l(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.default=void 0;var Sr=Se(q()),Ar=Se(L()),W=Se(N()),Gn=Se(qt()),kn=m();function Se(e){return e&&e.__esModule?e:{default:e}}var zn=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a=typeof a<"u"&&!isNaN(a)?a:1;var n=(0,Sr.default)(t),i=(0,Ar.default)(t),u=(0,Sr.default)(r),o=(0,Ar.default)(r),f=Math.acos((0,Gn.default)(Math.sin((0,W.default)(u))*Math.sin((0,W.default)(n))+Math.cos((0,W.default)(u))*Math.cos((0,W.default)(n))*Math.cos((0,W.default)(i)-(0,W.default)(o))))*kn.earthRadius;return Math.round(f/a)*a},Hn=zn;Ae.default=Hn});var Lt=l(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.default=void 0;var Cr=Yn(R());function Yn(e){return e&&e.__esModule?e:{default:e}}var Zn=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cr.default;return a=typeof a=="function"?a:Cr.default,r.slice().sort(function(n,i){return a(t,n)-a(t,i)})},Jn=Zn;Ce.default=Jn});var Nr=l(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.default=void 0;var Qn=ei(Lt());function ei(e){return e&&e.__esModule?e:{default:e}}var ti=function(t,r){return(0,Qn.default)(t,r)[0]},ri=ti;Ne.default=ri});var Rr=l(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.default=void 0;var St=At(N()),ai=At(q()),Ir=At(L()),Er=m();function At(e){return e&&e.__esModule?e:{default:e}}var ni=function(t){var r=0;if(t.length>2){for(var a,n,i,u=0;u<t.length;u++){u===t.length-2?(a=t.length-2,n=t.length-1,i=0):u===t.length-1?(a=t.length-1,n=0,i=1):(a=u,n=u+1,i=u+2);var o=(0,Ir.default)(t[a]),f=(0,ai.default)(t[n]),g=(0,Ir.default)(t[i]);r+=((0,St.default)(g)-(0,St.default)(o))*Math.sin((0,St.default)(f))}r=r*Er.earthRadius*Er.earthRadius/2}return Math.abs(r)},ii=ni;Ie.default=ii});var Ct=l(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.default=void 0;var ui=wr(q()),oi=wr(L());function wr(e){return e&&e.__esModule?e:{default:e}}var li=function(t){if(Array.isArray(t)===!1||t.length===0)throw new Error("No points were given.");return t.reduce(function(r,a){var n=(0,ui.default)(a),i=(0,oi.default)(a);return{maxLat:Math.max(n,r.maxLat),minLat:Math.min(n,r.minLat),maxLng:Math.max(i,r.maxLng),minLng:Math.min(i,r.minLng)}},{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})},di=li;Ee.default=di});var xr=l(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.default=void 0;var si=we(q()),fi=we(L()),K=we(N()),Re=we(x()),H=m();function we(e){return e&&e.__esModule?e:{default:e}}var ci=function(t,r){var a=(0,si.default)(t),n=(0,fi.default)(t),i=(0,K.default)(a),u=(0,K.default)(n),o=r/H.earthRadius,f=i-o,g=i+o,O=(0,K.default)(H.MAXLAT),P=(0,K.default)(H.MINLAT),h=(0,K.default)(H.MAXLON),y=(0,K.default)(H.MINLON),M,v;if(f>P&&g<O){var A=Math.asin(Math.sin(o)/Math.cos(i));M=u-A,M<y&&(M+=Math.PI*2),v=u+A,v>h&&(v-=Math.PI*2)}else f=Math.max(f,P),g=Math.min(g,O),M=y,v=h;return[{latitude:(0,Re.default)(f),longitude:(0,Re.default)(M)},{latitude:(0,Re.default)(g),longitude:(0,Re.default)(v)}]},gi=ci;xe.default=gi});var Fr=l(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.default=void 0;var vi=Te(q()),mi=Te(L()),Tr=Te(N()),Br=Te(x());function Te(e){return e&&e.__esModule?e:{default:e}}var _i=function(t){if(Array.isArray(t)===!1||t.length===0)return!1;var r=t.length,a=t.reduce(function(o,f){var g=(0,Tr.default)((0,vi.default)(f)),O=(0,Tr.default)((0,mi.default)(f));return{X:o.X+Math.cos(g)*Math.cos(O),Y:o.Y+Math.cos(g)*Math.sin(O),Z:o.Z+Math.sin(g)}},{X:0,Y:0,Z:0}),n=a.X/r,i=a.Y/r,u=a.Z/r;return{longitude:(0,Br.default)(Math.atan2(i,n)),latitude:(0,Br.default)(Math.atan2(u,Math.sqrt(n*n+i*i)))}},pi=_i;Be.default=pi});var Wr=l(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.default=void 0;var hi=yi(Ct());function yi(e){return e&&e.__esModule?e:{default:e}}var Mi=function(t){var r=(0,hi.default)(t),a=r.minLat+(r.maxLat-r.minLat)/2,n=r.minLng+(r.maxLng-r.minLng)/2;return{latitude:parseFloat(a.toFixed(6)),longitude:parseFloat(n.toFixed(6))}},bi=Mi;Fe.default=bi});var Nt=l(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.default=void 0;var Kr=Ke(q()),jr=Ke(L()),We=Ke(N()),Pi=Ke(x());function Ke(e){return e&&e.__esModule?e:{default:e}}var Oi=function(t,r){var a=(0,We.default)((0,jr.default)(r))-(0,We.default)((0,jr.default)(t)),n=Math.log(Math.tan((0,We.default)((0,Kr.default)(r))/2+Math.PI/4)/Math.tan((0,We.default)((0,Kr.default)(t))/2+Math.PI/4));return Math.abs(a)>Math.PI&&(a>0?a=(Math.PI*2-a)*-1:a=Math.PI*2+a),((0,Pi.default)(Math.atan2(a,n))+360)%360},Di=Oi;je.default=Di});var Ur=l(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.default=void 0;var Vr=qi(Nt());function qi(e){return e&&e.__esModule?e:{default:e}}var Li=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vr.default,n=typeof a=="function"?a(t,r):(0,Vr.default)(t,r);if(isNaN(n))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(n/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},Si=Li;Ve.default=Si});var Et=l(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.default=void 0;var It=$r(R()),Xr=$r(qt());function $r(e){return e&&e.__esModule?e:{default:e}}var Ai=function(t,r,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,i=(0,It.default)(r,t,n),u=(0,It.default)(t,a,n),o=(0,It.default)(r,a,n),f=Math.acos((0,Xr.default)((i*i+o*o-u*u)/(2*i*o))),g=Math.acos((0,Xr.default)((u*u+o*o-i*i)/(2*u*o)));return f>Math.PI/2?i:g>Math.PI/2?u:Math.sin(f)*i},Ci=Ai;Ue.default=Ci});var zr=l($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.default=void 0;var Gr=Xe(q()),kr=Xe(L()),I=Xe(N()),Ni=Xe(x());function Xe(e){return e&&e.__esModule?e:{default:e}}var Ii=function(t,r){var a=(0,Gr.default)(r),n=(0,kr.default)(r),i=(0,Gr.default)(t),u=(0,kr.default)(t),o=((0,Ni.default)(Math.atan2(Math.sin((0,I.default)(n)-(0,I.default)(u))*Math.cos((0,I.default)(a)),Math.cos((0,I.default)(i))*Math.sin((0,I.default)(a))-Math.sin((0,I.default)(i))*Math.cos((0,I.default)(a))*Math.cos((0,I.default)(n)-(0,I.default)(u))))+360)%360;return o},Ei=Ii;$e.default=Ei});var Hr=l(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.default=void 0;var Ri=wi(R());function wi(e){return e&&e.__esModule?e:{default:e}}function Ge(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ge=function(r){return typeof r}:Ge=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ge(e)}var xi=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ri.default;return t.reduce(function(a,n){return Ge(a)==="object"&&a.last!==null&&(a.distance+=r(n,a.last)),a.last=n,a},{last:null,distance:0}).distance},Ti=xi;ke.default=Ti});var Qr=l(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.default=void 0;var Yr=wt(q()),Zr=wt(L()),Rt=wt(N()),Jr=m();function wt(e){return e&&e.__esModule?e:{default:e}}var Bi=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a=typeof a<"u"&&!isNaN(a)?a:1;var n=(0,Yr.default)(t),i=(0,Zr.default)(t),u=(0,Yr.default)(r),o=(0,Zr.default)(r),f=6356752314245e-6,g=1/298.257223563,O=(0,Rt.default)(o-i),P,h,y,M,v,A,Tt=Math.atan((1-g)*Math.tan((0,Rt.default)(parseFloat(n)))),Bt=Math.atan((1-g)*Math.tan((0,Rt.default)(parseFloat(u)))),Y=Math.sin(Tt),Z=Math.cos(Tt),J=Math.sin(Bt),T=Math.cos(Bt),j=O,Ft,Wt=100;do{var at=Math.sin(j),nt=Math.cos(j);if(A=Math.sqrt(T*at*(T*at)+(Z*J-Y*T*nt)*(Z*J-Y*T*nt)),A===0)return 0;P=Y*J+Z*T*nt,h=Math.atan2(A,P),y=Z*T*at/A,M=1-y*y,v=P-2*Y*J/M,isNaN(v)&&(v=0);var it=g/16*M*(4+g*(4-3*M));Ft=j,j=O+(1-it)*g*y*(h+it*A*(v+it*P*(-1+2*v*v)))}while(Math.abs(j-Ft)>1e-12&&--Wt>0);if(Wt===0)return NaN;var E=M*(Jr.earthRadius*Jr.earthRadius-f*f)/(f*f),ma=1+E/16384*(4096+E*(-768+E*(320-175*E))),ut=E/1024*(256+E*(-128+E*(74-47*E))),_a=ut*A*(v+ut/4*(P*(-1+2*v*v)-ut/6*v*(-3+4*A*A)*(-3+4*v*v))),pa=f*ma*(h-_a);return Math.round(pa/a)*a},Fi=Bi;ze.default=Fi});var ea=l(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.default=void 0;var Wi=function(t){if(/^(NNE|NE|NNW|N)$/.test(t))return"N";if(/^(ENE|E|ESE|SE)$/.test(t))return"E";if(/^(SSE|S|SSW|SW)$/.test(t))return"S";if(/^(WSW|W|WNW|NW)$/.test(t))return"W"},Ki=Wi;He.default=Ki});var ta=l(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.default=void 0;var ji=Vi(R());function Vi(e){return e&&e.__esModule?e:{default:e}}var Ui=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ji.default,n=a(t,r),i=Number(r.time)-Number(t.time),u=n/i*1e3;return u},Xi=Ui;Ye.default=Xi});var ra=l(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.default=void 0;var xt=$i(R());function $i(e){return e&&e.__esModule?e:{default:e}}var Gi=function(t,r,a){return(0,xt.default)(r,t)+(0,xt.default)(t,a)===(0,xt.default)(r,a)},ki=Gi;Ze.default=ki});var na=l(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.default=void 0;var Je=aa(q()),S=aa(L());function aa(e){return e&&e.__esModule?e:{default:e}}var zi=function(t,r){for(var a=!1,n=r.length,i=-1,u=n-1;++i<n;u=i)((0,S.default)(r[i])<=(0,S.default)(t)&&(0,S.default)(t)<(0,S.default)(r[u])||(0,S.default)(r[u])<=(0,S.default)(t)&&(0,S.default)(t)<(0,S.default)(r[i]))&&(0,Je.default)(t)<((0,Je.default)(r[u])-(0,Je.default)(r[i]))*((0,S.default)(t)-(0,S.default)(r[i]))/((0,S.default)(r[u])-(0,S.default)(r[i]))+(0,Je.default)(r[i])&&(a=!a);return a},Hi=zi;Qe.default=Hi});var ia=l(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.default=void 0;var Yi=Zi(Et());function Zi(e){return e&&e.__esModule?e:{default:e}}var Ji=function(t,r,a,n){return(0,Yi.default)(t,r,a)<n},Qi=Ji;et.default=Qi});var ua=l(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.default=void 0;var eu=tu(R());function tu(e){return e&&e.__esModule?e:{default:e}}var ru=function(t,r,a){var n=.01;return(0,eu.default)(t,r,n)<a},au=ru;tt.default=au});var la=l(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.default=void 0;function nu(e,t){return lu(e)||ou(e,t)||uu(e,t)||iu()}function iu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uu(e,t){if(e){if(typeof e=="string")return oa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oa(e,t)}}function oa(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ou(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,n=!1,i=void 0;try{for(var u=e[Symbol.iterator](),o;!(a=(o=u.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(f){n=!0,i=f}finally{try{!a&&u.return!=null&&u.return()}finally{if(n)throw i}}return r}}function lu(e){if(Array.isArray(e))return e}var du=function(t){if(!t.startsWith("POLYGON"))throw new Error("Invalid wkt.");var r=t.slice(t.indexOf("(")+2,t.indexOf(")")).split(", "),a=r.map(function(n){var i=n.split(" "),u=nu(i,2),o=u[0],f=u[1];return{longitude:parseFloat(o),latitude:parseFloat(f)}});return a},su=du;rt.default=su});var sa=l(d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});var fu={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(d,"computeDestinationPoint",{enumerable:!0,get:function(){return cu.default}});Object.defineProperty(d,"convertArea",{enumerable:!0,get:function(){return gu.default}});Object.defineProperty(d,"convertDistance",{enumerable:!0,get:function(){return vu.default}});Object.defineProperty(d,"convertSpeed",{enumerable:!0,get:function(){return mu.default}});Object.defineProperty(d,"decimalToSexagesimal",{enumerable:!0,get:function(){return _u.default}});Object.defineProperty(d,"findNearest",{enumerable:!0,get:function(){return pu.default}});Object.defineProperty(d,"getAreaOfPolygon",{enumerable:!0,get:function(){return hu.default}});Object.defineProperty(d,"getBounds",{enumerable:!0,get:function(){return yu.default}});Object.defineProperty(d,"getBoundsOfDistance",{enumerable:!0,get:function(){return Mu.default}});Object.defineProperty(d,"getCenter",{enumerable:!0,get:function(){return bu.default}});Object.defineProperty(d,"getCenterOfBounds",{enumerable:!0,get:function(){return Pu.default}});Object.defineProperty(d,"getCompassDirection",{enumerable:!0,get:function(){return Ou.default}});Object.defineProperty(d,"getCoordinateKey",{enumerable:!0,get:function(){return Du.default}});Object.defineProperty(d,"getCoordinateKeys",{enumerable:!0,get:function(){return qu.default}});Object.defineProperty(d,"getDistance",{enumerable:!0,get:function(){return Lu.default}});Object.defineProperty(d,"getDistanceFromLine",{enumerable:!0,get:function(){return Su.default}});Object.defineProperty(d,"getGreatCircleBearing",{enumerable:!0,get:function(){return Au.default}});Object.defineProperty(d,"getLatitude",{enumerable:!0,get:function(){return Cu.default}});Object.defineProperty(d,"getLongitude",{enumerable:!0,get:function(){return Nu.default}});Object.defineProperty(d,"getPathLength",{enumerable:!0,get:function(){return Iu.default}});Object.defineProperty(d,"getPreciseDistance",{enumerable:!0,get:function(){return Eu.default}});Object.defineProperty(d,"getRhumbLineBearing",{enumerable:!0,get:function(){return Ru.default}});Object.defineProperty(d,"getRoughCompassDirection",{enumerable:!0,get:function(){return wu.default}});Object.defineProperty(d,"getSpeed",{enumerable:!0,get:function(){return xu.default}});Object.defineProperty(d,"isDecimal",{enumerable:!0,get:function(){return Tu.default}});Object.defineProperty(d,"isPointInLine",{enumerable:!0,get:function(){return Bu.default}});Object.defineProperty(d,"isPointInPolygon",{enumerable:!0,get:function(){return Fu.default}});Object.defineProperty(d,"isPointNearLine",{enumerable:!0,get:function(){return Wu.default}});Object.defineProperty(d,"isPointWithinRadius",{enumerable:!0,get:function(){return Ku.default}});Object.defineProperty(d,"isSexagesimal",{enumerable:!0,get:function(){return ju.default}});Object.defineProperty(d,"isValidCoordinate",{enumerable:!0,get:function(){return Vu.default}});Object.defineProperty(d,"isValidLatitude",{enumerable:!0,get:function(){return Uu.default}});Object.defineProperty(d,"isValidLongitude",{enumerable:!0,get:function(){return Xu.default}});Object.defineProperty(d,"orderByDistance",{enumerable:!0,get:function(){return $u.default}});Object.defineProperty(d,"sexagesimalToDecimal",{enumerable:!0,get:function(){return Gu.default}});Object.defineProperty(d,"toDecimal",{enumerable:!0,get:function(){return ku.default}});Object.defineProperty(d,"toRad",{enumerable:!0,get:function(){return zu.default}});Object.defineProperty(d,"toDeg",{enumerable:!0,get:function(){return Hu.default}});Object.defineProperty(d,"wktToPolygon",{enumerable:!0,get:function(){return Yu.default}});var cu=s(Mr()),gu=s(br()),vu=s(Pr()),mu=s(Or()),_u=s(Lr()),pu=s(Nr()),hu=s(Rr()),yu=s(Ct()),Mu=s(xr()),bu=s(Fr()),Pu=s(Wr()),Ou=s(Ur()),Du=s(X()),qu=s(de()),Lu=s(R()),Su=s(Et()),Au=s(zr()),Cu=s(q()),Nu=s(L()),Iu=s(Hr()),Eu=s(Qr()),Ru=s(Nt()),wu=s(ea()),xu=s(ta()),Tu=s($()),Bu=s(ra()),Fu=s(na()),Wu=s(ia()),Ku=s(ua()),ju=s(G()),Vu=s(Mt()),Uu=s(_t()),Xu=s(ht()),$u=s(Lt()),Gu=s(k()),ku=s(ve()),zu=s(N()),Hu=s(x()),Yu=s(la()),da=m();Object.keys(da).forEach(function(e){e==="default"||e==="__esModule"||Object.prototype.hasOwnProperty.call(fu,e)||Object.defineProperty(d,e,{enumerable:!0,get:function(){return da[e]}})});function s(e){return e&&e.__esModule?e:{default:e}}});var ca=ha(sa());var Zu=(e,t,r,a)=>({"btn-danger":e,"btn-warning":t,"btn-info":r,"btn-primary":a}),Ju=(e,t,r,a,n)=>({"alert-danger":e,"alert-success":t,"alert-warning":r,"alert-info":a,"alert-secondary":n});function Qu(e,t){if(e&1&&(b(0,"div",23),p(1),_()),e&2){let r=re().$implicit;w("ngClass",zt(2,Ju,r.geoErrorCode==="ACCESS_DENIED",r.geoErrorCode===null,r.geoErrorCode==="PERMISSION_DENIED",r.geoErrorCode==="POSITION_UNAVAILABLE",r.geoErrorCode==="UNKNOWN_ERROR")),D(),Gt(" ",r.errorMessageGeolocation," ")}}function eo(e,t){if(e&1){let r=$t();b(0,"div",13)(1,"div",14)(2,"div",15)(3,"h5",16),p(4),_(),b(5,"p",17),p(6," Fecha inicio: "),b(7,"span",18),p(8),V(9,"date"),_(),B(10,"br"),p(11," Hora inicio: "),b(12,"span",18),p(13),V(14,"date"),_(),B(15,"br"),p(16," Fecha fin: "),b(17,"span",18),p(18),V(19,"date"),_(),B(20,"br"),p(21," Hora fin: "),b(22,"span",18),p(23),V(24,"date"),_()()(),b(25,"div",19)(26,"button",20),te("click",function(){let n=Ut(r).$implicit,i=re();return Xt(i.getUserLocation(n.id_asamblea))}),b(27,"i",21),p(28,"arrow_right_alt"),_(),p(29," Entrar a la asamblea "),_()()(),lt(30,Qu,2,8,"div",22),_()}if(e&2){let r=t.$implicit,a=re();D(4),F(r.titulo),D(4),F(U(9,8,r.fecha_inicio,"dd-MM-yyyy")),D(5),F(U(14,11,r.fecha_inicio,"hh:mm a")),D(5),F(U(19,14,r.fecha_fin,"dd-MM-yyyy")),D(5),F(U(24,17,r.fecha_fin,"hh:mm a")),D(3),w("disabled",!a.estaDentroDelRango(r.fecha_inicio,r.fecha_fin)||r.estado!=="Activo")("ngClass",kt(20,Zu,r.geoErrorCode==="ACCESS_DENIED",r.geoErrorCode==="PERMISSION_DENIED",r.geoErrorCode==="POSITION_UNAVAILABLE",!r.geoErrorCode)),D(4),w("ngIf",r.errorMessageGeolocation)}}var ga=(()=>{let t=class t{constructor(a,n){this.asambleaService=a,this.router=n,this.page=1,this.pageSize=3,this.totalAsambleas=0,this.nombreAsamblea="",this.currentUser={},this.errorMessage="",this.errorMessageGeolocation="",this.pLat=4.60048,this.pLng=-74.109207,this.maxDistance=500,this.asambleas=[],this.filteredAsambleas=[],this.searchAdmin="",this.geoErrorCode=null,this.usuarioActual=""}ngOnInit(){this.getAll()}getAll(){let a=JSON.parse(localStorage.getItem("currentUser")??"{}");this.usuarioActual=a.id_usuario||"Usuario desconocido",this.asambleaService.getAsambleasUser(tr.getAllAsambleas,this.usuarioActual).subscribe(n=>{Array.isArray(n.respuesta)?(this.asambleas=n.respuesta.map(i=>jt(Kt({},i),{fecha_inicio:new Date(i.fecha_inicio),fecha_fin:new Date(i.fecha_fin)})),this.asambleas.sort((i,u)=>new Date(u.fecha_inicio).getTime()-new Date(i.fecha_inicio).getTime())):this.asambleas=[],this.totalAsambleas=this.asambleas.length,this.filterAsambleas()})}filterAsambleas(){let a=this.searchAdmin.toLowerCase(),n=this.asambleas.filter(u=>u.titulo.toLowerCase().includes(a)||u.descripcion.includes(a));this.totalAsambleas=n.length;let i=(this.page-1)*this.pageSize;this.filteredAsambleas=n.slice(i,i+this.pageSize)}getUserLocation(a){localStorage.setItem("asambleaId",JSON.stringify({id_asamblea:a}));let n=this.asambleas.find(i=>i.id_asamblea===a);if(!navigator.geolocation){n&&(n.errorMessageGeolocation="La geolocalizaci\xF3n no es soportada por tu navegador.");return}navigator.geolocation.getCurrentPosition(i=>{let u=i.coords.latitude,o=i.coords.longitude;(0,ca.getDistance)({latitude:u,longitude:o},{latitude:this.pLat,longitude:this.pLng})<=this.maxDistance?this.router.navigate(["/home/preguntas",a]):n&&(n.geoErrorCode="ACCESS_DENIED",n.errorMessageGeolocation=`Acceso denegado, debes estar a menos de ${this.maxDistance} metros del punto de referencia.`)},i=>{if(n)switch(i.code){case i.PERMISSION_DENIED:n.geoErrorCode="PERMISSION_DENIED",n.errorMessageGeolocation="Permiso de geolocalizaci\xF3n denegado por el usuario.";break;case i.POSITION_UNAVAILABLE:n.geoErrorCode="POSITION_UNAVAILABLE",n.errorMessageGeolocation="Informaci\xF3n de geolocalizaci\xF3n no disponible.";break;default:n.geoErrorCode="UNKNOWN_ERROR",n.errorMessageGeolocation="Error desconocido al obtener la geolocalizaci\xF3n.";break}})}trackById(a,n){return n.id_asamblea??a}onSearchTermChange(){this.page=1,this.filterAsambleas()}estaDentroDelRango(a,n){let i=new Date(a),u=new Date(n),o=new Date;return i<=o&&o<=u}};t.\u0275fac=function(n){return new(n||t)(ot(ae),ot(er))},t.\u0275cmp=Vt({type:t,selectors:[["app-home"]],decls:18,vars:6,consts:[[1,"container","py-3"],[1,"abs-center"],[1,"card","card-primary","shadow","border-0"],[1,"card-body"],[1,"text-center","fs-2","text-primary","mb-4"],[1,"d-flex","flex-column","flex-md-row","justify-content-between","align-items-md-center","mb-3"],[1,"input-group","w-auto"],["type","text","placeholder","Buscar asamblea...",1,"form-control",3,"ngModelChange","input","ngModel"],["id","basic-addon1",1,"input-group-text"],[1,"material-icons"],["class","mb-3 card card-secondary rounded-3 shadow-sm",4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],[1,"mb-3","card","card-secondary","rounded-3","shadow-sm"],[1,"row","align-items-center"],[1,"col-12","col-md-8"],[1,"text-primary","fw-bold"],[1,"mb-1","text-muted"],[1,"fw-semibold"],[1,"col-12","col-md-4"],["type","button",1,"btn","w-100",3,"click","disabled","ngClass"],[1,"material-icons","align-middle","me-1"],["class","alert mt-2","role","alert","style","--bs-alert-margin-bottom: 0px;",3,"ngClass",4,"ngIf"],["role","alert",1,"alert","mt-2",2,"--bs-alert-margin-bottom","0px",3,"ngClass"]],template:function(n,i){n&1&&(B(0,"app-animation")(1,"app-nav"),b(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"h2",4),p(7,"Asambleas"),_(),b(8,"div",5)(9,"div",6)(10,"input",7),ft("ngModelChange",function(o){return st(i.searchAdmin,o)||(i.searchAdmin=o),o}),te("input",function(){return i.onSearchTermChange()}),_(),b(11,"span",8)(12,"i",9),p(13,"search"),_()()()(),lt(14,eo,31,25,"div",10),_(),b(15,"div",11)(16,"ngb-pagination",12),ft("pageChange",function(o){return st(i.page,o)||(i.page=o),o}),te("pageChange",function(){return i.getAll()}),_()()()()(),B(17,"app-footer")),n&2&&(D(10),dt("ngModel",i.searchAdmin),D(4),w("ngForOf",i.filteredAsambleas)("ngForTrackBy",i.trackById),D(2),w("collectionSize",i.totalAsambleas),dt("page",i.page),w("pageSize",i.pageSize))},dependencies:[Ht,Yt,Zt,rr,ar,nr,ir,ur,or,lr,Jt],styles:[".abs-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:70vh}.card-primary[_ngcontent-%COMP%]{min-width:90vw}.card-secondary[_ngcontent-%COMP%]{padding:.5rem}"]});let e=t;return e})();var to=[{path:"",component:ga}],va=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=Q({imports:[ct.forChild(to),ct]});let e=t;return e})();var fl=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=Q({providers:[ae],imports:[Qt,va,dr]});let e=t;return e})();export{fl as HomeModule};
